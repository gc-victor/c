var v=typeof global!="undefined"&&{}.toString.call(global)==="[object global]";v||(window.process={env:{TEST:!1}});var h=process.env.TEST?!1:v;function w(i,...a){let o="",n=0,y=a.length;for(;n<y;){let e=i[n],t=a[n];if(h)o+=e+t;else{let l=/on\w+="$/.test(e),c=typeof t=="function",_=l?e.replace(/on(\w+)="$/,`data-_on_="" data-_fn_${n}="${t}" data-_ev_${n}="$1" data-_arg_${n}="`):e,k=c?l?`${n}`:t():t instanceof Element?`<span data-_replace_='${n}'></span>`:t;o+=_+k}n++}if(o+=i[i.length-1],h)return o.replace(/\son\w+=".*?"/g,"").replace(/\skey=".*?"/g,"").replace(/>[\r\n ]+</g,"><").replace(/(<.*?>)|\s+/g,(e,t)=>t||" ").trim();let g=document.createElement("template");g.innerHTML=o;let r=g.content,d=0,f=[...r.querySelectorAll("[data-_replace_]")],m=f.length;for(;d<m;){let e=f[d];e.parentNode.replaceChild(a[e.getAttribute("data-_replace_")],e),d++}let s=0,p=[...r.querySelectorAll("[data-_on_]")],A=p.length;for(;s<A;){let e=p[s];Object.keys(p[s].dataset).forEach(t=>{if(/^_ev_/.test(t)){let l=t.replace("_ev_",""),c=e.getAttribute(`data-_ev_${l}`),_=a[e.getAttribute(`data-_arg_${l}`)];e.__key__=e.getAttribute("key"),e.__handler__=e.__handler__||{},e.__handler__[c]=_,e.addEventListener(c,_),e.removeAttribute("data-_on_"),e.removeAttribute(`data-_fn_${l}`),e.removeAttribute(`data-_arg_${l}`),e.removeAttribute(`data-_ev_${l}`)}}),e.removeAttribute("key"),s++}let u=0,b=[...r.querySelectorAll("[key]")],$=b.length;for(;u<$;){let e=b[u];e.__key__=e.getAttribute("key"),e.removeAttribute("key"),u++}return r.children[0]}var T=w;export{T as default};
