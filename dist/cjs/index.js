var $=Object.defineProperty;var P=o=>$(o,"__esModule",{value:!0});var Q=(o,u)=>{P(o);for(var p in u)$(o,p,{get:u[p],enumerable:!0})};Q(exports,{__keyCounter:()=>F,c:()=>Y,default:()=>Z});function L(o){o.currentTarget.__handler__[o.type](o)}function R(o,u,p,h){let N=document.activeElement,m=document.body,b=o.length,l=u.length,g=b,a=0,r=0,i=[],c=[];for(;a<l||r<g;)if(l===a)for(;r<g;){let e=o[r],t=e.parentNode,n=h.indexOf(t);n!==-1&&(p[n].insertBefore(e,u[a]),i.push(e)),r++}else if(g===r)for(;a<l;){let e=u[a],t=e.parentNode,n=p.includes(e);t&&!n&&(t.removeChild(e),c.push(e)),a++}else if(u[a].isEqualNode(o[r]))a++,r++;else if(u[l-1].isEqualNode(o[g-1]))l--,g--;else{let e=u[a],t=o[r],n=e.parentNode,_=t.parentNode,s=i.includes(_),d=c.includes(n),f=p.includes(e),v=h.includes(t),M=e.tagName===t.tagName,O=Boolean(n&&n.parentNode);if(!s||!d||f&&v)if(!f&&!v&&M&&O&&!i.includes(_.parentNode))!h.includes(_)&&!p.includes(n)&&!m.contains(_)?(n.parentNode.replaceChild(_,n),i.push(_),i.push(t),c.push(n),c.push(e)):m.contains(t)||(n.replaceChild(t,e),i.push(t),c.push(e)),a++,r++;else if(f&&v&&M){let B=e.attributes,x=t.attributes,D=B.length,G=x.length,I=Object.keys(x);for(let y=D-1;y>=0;y--){let C=B[y].name;!I.includes(C)&&C!=="type"&&e.removeAttribute(C)}for(let y=0;y<G;y++){let C=x[y].name,k=x[y].value;e.setAttribute(C,k)}if(!e.__handler__&&t.__handler__){let y=Object.keys(t.__handler__||{}),C=y.length;for(let k=0;k<C;k++)t.removeEventListener(y[k],L),e.addEventListener(y[k],L)}e===N&&!t.children.length&&t.childNodes.length&&t.childNodes[0].nodeType===3&&(e.textContent=t.textContent),e.__handler__=t.__handler__,i.push(t),c.push(e),a++,r++}else!f&&v?r++:f&&!v?a++:(a++,r++);else s&&!d?r++:!s&&d?a++:f&&!v&&m.contains(t)?r++:f&&!v&&!m.contains(t)?(n.insertBefore(t,e),i.push(t),r++):!f&&v?(n.removeChild(e),c.push(e),a++):!v&&!f&&O?(n.replaceChild(t,e),i.push(t),c.push(e),a++,r++):(a++,r++)}}function U(o,u,p){let h=g(o),N=g(u),m=a(h[0],p),b=N.find(r=>{let i=p.__key__,c=r.__key__,e=p.getAttribute("name"),t=r.getAttribute("name");return i&&c&&i===c||e&&t&&e===t||!i&&p.isEqualNode(r)}),l=b&&a(N[0],b);return{p:h,n:N,pAncestry:m,nActiveElement:b,nAncestry:l};function g(r){let i=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT),c=[],e=i.currentNode;for(;e;)c.push(e),e=i.nextNode();return c}function a(r,i){let c=[];for(;i&&i!==r;){let e=i;c.push(e),i=e.parentNode}return c.push(r),c}}function V(o,u){if(!u)return o.parentNode.removeChild(o),u;let p=o.parentNode,h=document.activeElement;if(h&&h.tagName!=="BODY"&&o.contains(h)){let{p:N,n:m,pAncestry:b,nActiveElement:l,nAncestry:g}=U(o,u,h);if(!l)p.replaceChild(u,o);else return R(m,N,b,g),o}else p.replaceChild(u,o);return u}var X=V,K=X;var J=typeof global!="undefined"&&{}.toString.call(global)==="[object global]";J||(window.process={env:{TEST:!1}});var T=process.env.TEST?!1:J;var W,z=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window!="undefined"?window:global):o=>(W||(W=Promise.resolve())).then(o).catch(u=>setTimeout(()=>{throw u},0));var F={value:1},S=new Set,A=new Map,E=new Map,w=new Map,j=new Map,q=new Map;function Y(o){return u.bind(null,`__${F.value++}__`);function u(p,h={}){let N,m,b=()=>{},l=h&&h.key?h.key+p:p,g=new Set;function a(e,t){let n=_=>{w.set(e,_);let s=i();!T&&N&&(s=K(N,s)),N=s};return w.has(e)||w.set(e,t),[()=>w.get(e),n]}function r(e,t,n){let _=!n,s=w.get(e),d=s?!n.every((f,v)=>JSON.stringify(f)===JSON.stringify(s[v])):!0;(_||d)&&(w.set(e,n),t(n))}return N=i();function i(){let e=0,t={},n=o({cleanup:s=>m=s||m,execute:(s,d)=>{let f=`execute${l}${e++}`;return g.add(f),r(f,s,d)},key:l,props:h,ref:s=>t.fn=s,update:s=>{let d=`update${l}${e++}`;return g.add(d),a(d,s)}}),_=E.get(l);return t.fn&&t.fn(n,_),!T&&n?(n.__key__=n.__key__||l,E.forEach(function(s,d){let f=A.get(d)||[];s&&!(E.get(d)&&!E.get(d).parentNode)&&n.contains(s)&&!f.includes(l)&&d!==l&&(A.set(l,[...new Set([...A.get(l)||[],d])]),S.add(d))}),E.set(l,n),j.set(l,g),q.set(l,m||b)):E.get(l)&&!n&&z(()=>m&&c()),n}function c(){let e=A.get(l),t=E.get(l)?[...e||[l]]:[];S.has(l)||t.push(l);let n=t.length;for(let _=0;_<n;_++){let s=t[_];if(E.has(s)){let d=q.get(s);d&&d(E.get(s)),E.set(s,0),(!S.has(s)||[...e||[]].includes(s))&&(j.get(s).forEach(f=>w.delete(f)),j.delete(s),E.delete(s)),S.delete(s),A.delete(s),q.delete(s)}}m=null,N=null}}}var Z=Y;
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
